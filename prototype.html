<!DOCTYPE HTML>
<html lang="en">
<head>
		<meta charset="UTF-8">

		<!-- link rel="stylesheet" href="styles.css" type="text/css"> -->
		<link rel="stylesheet" href="css/jslider.css" type="text/css">
		<link rel="stylesheet" href="css/jslider.blue.css" type="text/css">
		<link rel="stylesheet" href="css/jslider.plastic.css" type="text/css">
		<link rel="stylesheet" href="css/jslider.round.css" type="text/css">
		<link rel="stylesheet" href="css/jslider.round.plastic.css" type="text/css">

		<script src="d3.min.js"></script>
		<script src="d3.js"></script>
		<script src="jquery-1.12.4.min.js"></script>


		<script type="text/javascript" src="js/jshashtable-2.1_src.js"></script>
		<script type="text/javascript" src="js/jquery.numberformatter-1.2.3.js"></script>
		<script type="text/javascript" src="js/tmpl.js"></script>
		<script type="text/javascript" src="js/jquery.dependClass-0.1.js"></script>
		<script type="text/javascript" src="js/draggable-0.1.js"></script>
		<script type="text/javascript" src="js/jquery.slider.js"></script>
		<script type="text/javascript" src="slider.js"></script>
		<script type="text/javascript" src="colorKey.js"></script>
	    <script type="text/javascript" src="functionCleaner.js"></script>
		<script type="text/javascript" src="SliderHideFunction.js"></script>
		<script type="text/javascript" src="functionCleanerLeft.js"></script>
		<script type="text/javascript" src="rightCanvas.js"></script>


		<title>Music Analysis </title>

		<style>
		.slider {
		    padding: 40px 0px;
			display: inline-block;
			width: 400px;
		}
		.colors span {
			width: 50px;
			height: 50px;
			display: inline-block;
		}

		</style>


</head>
<body>
<div name="header-wraper" style="width:100%;">
	<div name="header" style="width: 50%;  margin: 0 auto;">
		<p style="text-align: center" >MUSIC ANALYSIS</p>
		<br>
	
		<div id="jahr" style="align: center">
			<p style="text-align: center" >Please select the range of years that should be analized.</br>
			(Take in count that if you select too many data you won't be able to see much.)
			</p>
			<p style="text-align: center" ><strong>Jahr:</strong></p>
			<div class="slider" style="margin-left: 20%;" >
				<input type="slider" name="year" value="1990;2016" />
			</span>
		</div>
	</div>
</div>

<div class=canvas> </div>

<script>

	/*to dos hoy
		-hacer que el boton zeigen funcione a la izquierda
		-hacer un click en el keyboard para ver que keys son las beliebtes
		-hacer que el cleaner borre todo desde 0
		-hacer que las funciones funcionen en el grafico de la derecha

		-si quedan fuerzas armar spotify


		-falta ver de donde guarda slider los valores. Si es que vienen de todos los sliders que hay es problematico
		-
	*/



	//ideas de otras visualizacion
	//hacer una busqueda por teclado de un genero especifico y mostrarlo
	//beliebheit einem genre durch ein jahr
	//popularity of artist

	//para la proxima para la exposicion mostrar una visuaizacion en particular y luego de eso
	//explicar que se puede ver y que se puede entender de la visualizacion

	// to do
	// for para pegar los circulos fuera, se va a hacer un string que va a ser guardado en una variable
	//	y esa variable va a correr en el for de afuera, esa variable va a tener el comando de hacer el
	// att y todo lo demas.
	// esa estring la va a ir haciendo los selects que se usen.

	//conseguir subir info desde un csv
	//hacer la informacion de spotify

	//cambiar los colores de key
	//segunda visualizacion bar char

	//hier komm die spotify data retrieving , zur zeit einfach eine selbst gebastete csv

	//		Artist,title,genre,loudness (from -60 db to 0),energy (from 0.0 to 1.0),key (0 = C / 1 = C_/D_ / 2 = D and so on),tempo,Jahr,danceability,duration  (in milliseconds),playcount,hotness\n\
	var music="Artist,title,genre,loudness,energy,key,tempo,Jahr,danceability,duration,playcount,hotness\n\
	s-man,dangerous thoughts,dance,-12.733,0.626,1,121.000,2014,0.0808,535223,14,0.5183\n\
	pitbull,el taxi,latinParty,-10.249,0.823,2,101.000,2015,0.1232,539182,21,0.2129\n\
	bontan,firefly,dance,-7.134,0.923,8,95.000,1999,0.9213,497493,9,0.4382\n\
	Kieser.Velten,Bossa Jam,Lounge / Nu Jazz / House,-10.231,0.2129,12,120.000,2004,0.7543,728371,2,0.8847\n\
	The Fugees,Ready Or Not (Lucas Chambon remix),house,-7.242,0.4382,4,124.000,2115,0.9232,832373,2,0.8372\n\
	The Notorious B.I.G.,Mo Money Mo Problems (Naxsy Extended Remix),House,-6.234,0.8847,1,100.000,2010,0.6219,432393,3,0.5921\n\
	soul ii soul,back to life (follow me remix),deepHouse,-12.123,0.8372,6,124.000,2015,0.4932,438293,2,0.9287\n\
	Osunlade,Break It Down,Dance,-5.123,0.5921,5,145.000,2015,0.2234,455432,1,0.7328\n\
	Jamie Woon,Night Air (Original Mix),deepHouse,-6.634,0.9287,8,92.000,2012,0.8523,543726,8,0.2948\n\
	Mario,Let Me Love You (Sllash Remix),deepHouse,-8.245,0.8847,0,90.000,2012,0.8221,548273,3,0.1938\n\
	Ace of Base,Cruel summer (YoGee house Remix 2014),Deep House,-9.234,0.9273,3,87.000,2016,0.9134,593772,1,0.0479\n\
	Justin Timberlake,My Love (Lucas Chambon Remix),house,-7.034,0.7474,2,94.000,2013,0.7283,682736,2,0.0736\n\
	e. avitabile,soul express (remix soul deep v.pisany),house,-9.034,0.7231,2,97.000,2011,0.9277,527763,2,0.7231\n\
	daft punk,giorgio by moroder,house,-10.234,0.8272,1,100.000,2015,0.5183,578781,2,0.6219\n\
	zhu,Superfriends,deepHouse,-12.745,0.9476,8,99.000,2015,0.2129,548299,3,0.4932\n\
	zhu,Stolen Dance (Fear of Dawn Edit),Deep House,-12.489,0.9273,7,103.000,2009,0.4382,498728,1,0.9273\n\
	Duke Dumont,Ocean Drive,deepHouse,-11.153,0.7474,5,105.000,2007,0.8847,563847,3,0.7474\n\
	The 2 Bears,Not This Time (Original Mix),House,-10.745,0.7429,4,105.000,2009,0.8372,546729,5,0.7429\n\
	Karmon,No Illusion (Original Mix),deepHouse,-10.123,0.8223,8,150.000,2007,0.5921,627367,2,0.8223\n\
	vance joy,riptide (flicflac remix),deepHouse,-8.138,0.5318,9,87.000,2003,0.9287,656563,3,0.5318\n\
	Adrian Lux,Teenage Crime (Thomas Jack Remix),TropicalHouse,-7.673,0.8472,12,89.000,2005,0.7328,654323,2,0.8472\n\
	Tamer Akgul,Back in Town,Electronic,-9.234,0.7283,11,125.000,1997,0.2948,564372,3,0.6219\n\
	ornette,crazy (noze remix extended club version),deepHouse,-10.345,0.9277,1,130.000,1990,0.1938,5283494,2,0.4382\n\
	hot natured feautring anabel englund,reverse skydiving,deepHouse,-7.643,0.5183,1,130.000,2013,0.0479,562372,4,0.8523\n\
	James Dexter,Forward (Original Mix),deepHouse,-12.647,0.2129,11,123.000,2011,0.0736,512638,3,0.9277\n\
	The Avener,Fade Out Lines (Original Mix),Deep House,-12.593,0.4382,12,122.000,2016,0.7231,299865,1,0.5183\n\
	George Michael,Careless Whisper (Armando Junior Soulful Mix),Deep House,-12.856,0.8523,6,115.000,2014,0.8272,2937476,1,0.2129\n\
	99 souls ft destinyâ€™s child & brandy,the girl is mine,house,-6.176,0.8221,5,115.000,2010,0.9476,277382,3,0.4382\n\
	France Joli,Gonna Get Over You,Electro/Disco,-9.745,0.9134,7,124.000,2012,0.9273,162382,2,0.8847\n\
	Adele,Skyfall (Montmartre Remix),deepHouse,-9.673,0.9213,8,110.000,2012,0.7474,172635,4,0.8372\n\
	marlon roudette ft stewart,everybody feeling something,house,-10.547,0.7543,9,107.000,2014,0.7429,362830,3,0.4932\n\
	Nina Kraviz,Iâ€™m Week (Original Mix),deepHouse,-6.572,0.4932,8,96.000,2016,0.8472,10273645,2,0.8472";




		//here we will make the canvas where we will put the circles
		var container = d3.select(".canvas").append("svg").attr("width",1300).attr("height",550).attr("class","svgCanvas");

//	canvas left
		var axeX = container.append("line").attr("x1",100).attr("y1",500).attr("x2",600).attr("y2",500).attr("stroke","red").attr("stroke-width",2);
 		var xSpike = container.append("polygon").attr("points","100,0 95,20 105,20").style("fill","red").style("stroke","red").style("stroke-width",2);

		var axeY = container.append("line").attr("x1",100).attr("y1",0).attr("x2",100).attr("y2",500).attr("stroke","red").attr("stroke-width",2);
		var ySpike = container.append("polygon").attr("points","600,500 580,495 580,505	").style("fill","red").style("stroke","red").style("stroke-width",2);

		var separationLineX = container.append("line").attr("x1",350).attr("y1",20).attr("x2",350).attr("y2",480).attr("stroke","black").attr("stroke-width",1);
		var separationLineY = container.append("line").attr("x1",120).attr("y1",250).attr("x2",580).attr("y2",250).attr("stroke","black").attr("stroke-width",1);

		var origin =  container.append("text").attr("x",80).attr("y",520).attr("id","xAchseText").text("0");
		var yPlus =  container.append("text").attr("x",80).attr("y",20).attr("id","xAchseText").text("+");
		var xPlus =  container.append("text").attr("x",580).attr("y",520).attr("id","xAchseText").text("+");


//	canvas right
		var axeX = container.append("line").attr("x1",650).attr("y1",500).attr("x2",1250).attr("y2",500).attr("stroke","red").attr("stroke-width",2);
 		var xSpike = container.append("polygon").attr("points","1250,500 1230,495 1230,505").style("fill","red").style("stroke","red").style("stroke-width",2);

		var axeY = container.append("line").attr("x1",650).attr("y1",0).attr("x2",650).attr("y2",500).attr("stroke","red").attr("stroke-width",2);
		var ySpike = container.append("polygon").attr("points","650,0 645,20 655,20	").style("fill","red").style("stroke","red").style("stroke-width",2);

		var separationLineX = container.append("line").attr("x1",950).attr("y1",20).attr("x2",950).attr("y2",480).attr("stroke","black").attr("stroke-width",1);
		var separationLineY = container.append("line").attr("x1",720).attr("y1",250).attr("x2",1180).attr("y2",250).attr("stroke","black").attr("stroke-width",1);

		var origin =  container.append("text").attr("x",630).attr("y",520).attr("id","xAchseText").text("0");
		var yPlus =  container.append("text").attr("x",630).attr("y",20).attr("id","xAchseText").text("+");
		var xPlus =  container.append("text").attr("x", 1230).attr("y",520).attr("id","xAchseText").text("+");
//	end of canvas


	function parseCSV(music){
			  var lines = music.split("\n"); //split the csv in rows
			  var metadata = lines[0].split(","); //first row of the csv file that contains the name of the metadata that we are using
			  var rows = lines.slice(1); // Data without metadata tags
			  var data= rows.map(function(row){//we prepair the object to be send
			      var entries = row.split(",");
			      var rowObject={};
			      var i=0;
			      metadata.forEach(function(metadata,i ){
			          //   console.log(metadata[i]);
			          rowObject[metadata] = entries[i];
			          i++;
			      });
			     return rowObject;
			  });
			  return data;
	}

	//var parsedCSV = parseCSV(music);
	var parsedCSV = d3.csv.parse(music,function(rowObject){
		rowObject["loudness"] = parseFloat(rowObject["loudness"]);
		rowObject["energy"] = parseFloat(rowObject["energy"]);
		rowObject["key"] = parseFloat(rowObject["key"]);
		rowObject["tempo"] = parseFloat(rowObject["tempo"]);
		rowObject["Jahr"] = parseFloat(rowObject["Jahr"]);
		rowObject["danceability"] = parseFloat(rowObject["danceability"]);
		rowObject["duration"] = parseFloat(rowObject["duration"]);
		rowObject["playcount"] = parseFloat(rowObject["playcount"]);
		rowObject["hotness"] = parseFloat(rowObject["hotness"]);
		return rowObject;
	});

//	console.log(parsedCSV); //show the array of objects

//	var counter = parsedCSV.length;

	var xAchseOption, xAchseArray=[];
	var yAchseOption, yAchseArray=[];
	var kreisGrosseOption, kreisGrosseArray=[];
	var colorFilterOption, colorFilterArray=[];
	var sliderLinks, sliderRechts;
	var loudnessTop, loudnessBottom;

	//so bald man betätigt den Buttton von Slider, sliderLinks und sliderRechts uebernehmen  die neue ausgewählte Grenze
	var xAchseOption1, xAchseArray1=[];
	var yAchse1Option1, yAchse1Array1=[];
	var kreisGrosseOption1, kreisGrosseArray1=[];
	var colorFilterOption1, colorFilterArray1=[];
	var sliderLinks1, sliderRechts1;
	var loudnessTop1, loudnessBottom1;


$(document).ready(function(){

	//so bald man betätigt den Buttton von Slider, "range" uebernimmt  die neue ausgewählte Grenze

	//wert wird gespeichert in range im Form 0.3;0.8
	$(".slider").click(function(){
		var a=$(this).find('input[type="slider"]');
		var range = a.val();
		var array = range.split(';');
	     sliderLinks =array[0];
		 sliderRechts = array[1];
		console.log("wert 1: " + sliderLinks);
		console.log("wert 2: " + sliderRechts);
	});

//sejchas=====================================================================================================
//die ausgewahlte Tags werden bei anderen Selectboxes ausgeblendet

	$('#xAchse').change(function(){
			$("#yAchse option").show();
			$("#kreisGrosseSelect option").show();
		    $("#colorFilter option").show();
			$("#yAchse option[value="+$(this).val()+"]").hide();
			//$("#kreisGrosseSelect option[value="+$(this).val()+"]").hide();
			//$("#colorFilter option[value="+$(this).val()+"]").hide();
	});
		
	$('#yAchse').change(function(){
		$("#xAchse option").show();
// 		$("#kreisGrosseSelect option").show();
// 		$("#colorFilter option").show();
		
		$("#xAchse option[value="+$(this).val()+"]").hide();
// 		$("#kreisGrosseSelect option[value="+$(this).val()+"]").hide();
// 		$("#colorFilter option[value="+$(this).val()+"]").hide();	
		
// 		$("#kreisGrosseSelect option[value="+$("#xAchse").val()+"]").hide();
// 		$("#colorFilter option[value="+$("#xAchse").val()+"]").hide();
	});


	$('#kreisGrosseSelect').change(function(){
		$("#xAchse option").show();
		$("#yAchse option").show();
	    $("#colorFilter option").show(); 
		
// 		$("#xAchse option[value="+$(this).val()+"]").hide();
// 		$("#yAchse option[value="+$(this).val()+"]").hide();
		$("#colorFilter option[value="+$(this).val()+"]").hide();
// 		$("#kreisGrosseSelect option[value="+$("#xAchse").val()+"]").hide();
// 		$("#colorFilter option[value="+$("#xAchse").val()+"]").hide();	
// 		$("#colorFilter option[value="+$("#yAchse").val()+"]").hide();		
	});

	
	$('#colorFilter').change(function(){
		//$("#xAchse option").show();
		//$("#xAchse option[value="+$(this).val()+"]").hide();
		//$("#yAchse option[value="+$(this).val()+"]").hide();
//		$("#kreisGrosseSelect option[value="+$(this).val()+"]").hide();
});
		
		// Achse select
// 	$('#achsen').change(function(){
// 		xAchseOption = $("#xAchse option:selected");
// 			if 		(xAchseOption.val() ==="danceability" )	{ xAchse = xAchseOption.val();	//diese linie 	 für die key zeigen
// 				for (var i = 0; i < parsedCSV.length; i++) {
// 					var help = parsedCSV[i]["danceability"];
// 					xAchseArray.push(((help*1000)/2) +100);
// 					console.log("xAchse array " + xAchseArray[i] +" in die position " + i);
// 		$('#yAchse').change(function(){
// 				$("#xAchse option").show();
// 				//$("#kreisGrosseSelect option").show();
// 				//$("#colorFilter option").show();



// 			$("#xAchse option[value="+$(this).val()+"]").hide();
// 			//$("#kreisGrosseSelect option[value="+$(this).val()+"]").hide();
// 			//$("#colorFilter option[value="+$(this).val()+"]").hide();

// 			//$("#kreisGrosseSelect option[value="+$("#xAchse").val()+"]").hide();
// 			//$("#colorFilter option[value="+$("#xAchse").val()+"]").hide();
// 	});


	$('#kreisGrosseSelect').change(function(){
			$("#xAchse option").show();
			$("#yAchse option").show();
		    $("#colorFilter option").show();

			//$("#xAchse option[value="+$(this).val()+"]").hide();
			//$("#yAchse option[value="+$(this).val()+"]").hide();
			$("#colorFilter option[value="+$(this).val()+"]").hide();
			// $("#kreisGrosseSelect option[value="+$("#xAchse").val()+"]").hide();
			//$("#colorFilter option[value="+$("#xAchse").val()+"]").hide();
	        //$("#colorFilter option[value="+$("#yAchse").val()+"]").hide();
	});



			// Achse select
	$('#achsen').change(function(){
		xAchseArray = [];
		yAchseArray = [];

		xAchseOption = $("#xAchse option:selected");
		for (var i = 0; i < parsedCSV.length; i++) {
			if 	(xAchseOption.val() ==="danceability")	{
				xAchseArray.push(((parsedCSV[i][xAchseOption.val()]*1000)/2) +100);
				//console.log("arreglando el arreglo vamos a ver !!!!!! xAchse array " + xAchseArray[i] +" in die position " + i);
			}else if (xAchseOption.val() ==="energy") 	{
				xAchseArray.push(((parsedCSV[i][xAchseOption.val()]*1000)/2) +100);
				//console.log("xAchse array " + xAchseArray[i] +" in die position " + i);
			}else if (xAchseOption.val() ==="tempo")  	{
				//für tempo sollen wir sehen wie wir die daten von spotify bekommen. Wenn es ist tempo 120.000 man kann nicht *1000/2+100 machen
				xAchseArray.push(parsedCSV[i][xAchseOption.val()] +100);
				//console.log("xAchse array " + xAchseArray[i] +" in die position " + i);
			}else if (xAchseOption.val() ==="playcount"){
				xAchseArray.push(((parsedCSV[i][xAchseOption.val()]*50)/2) +100);
				//console.log("xAchse array " + xAchseArray[i] +" in die position " + i);
			}else if (xAchseOption.val() ==="loudness")		{
				xAchseArray.push(parsedCSV[i]["loudness"] *(-1)/100+300);//loudness has to be bigger than -200 db   //-10.249
				//console.log("xAchse array " + xAchseArray[i] +" in die position " + i);
			}	else if (xAchseOption.val() ==="jahr")	{ xAchse = xAchseOption.val();     //2014
				xAchseArray.push(((parsedCSV[i]["Jahr"]) /4));
				//console.log("xAchse array " + xAchseArray[i] +" in die position " + i);
			}
		}//end for

		//wort an die achsen schreiben
		var titleX = container.append("rect").attr("x",250).attr("y",505).attr("width",160).attr("height",45).attr("fill","white");
		if(xAchseOption.val()!="leer"){
			var xText =  container.append("text").attr("x",300).attr("y",520).attr("id","xAchseText").text(xAchseOption.val());
		}
		yAchseOption = $("#yAchse option:selected");
			for (var i = 0; i < parsedCSV.length; i++) {
				if 	(yAchseOption.val() ==="danceability")	{
					yAchseArray.push((parsedCSV[i]["danceability"]*1000)/2);
					//console.log("yAchse array " + yAchseArray[i] +" in die position " + i);
				}else if (yAchseOption.val() ==="energy") {
					yAchseArray.push((parsedCSV[i]["energy"]*1000)/2);
					//console.log("yAchse array " + yAchseArray[i] +" in die position " + i);
				}else if (yAchseOption.val() ==="tempo") {
					yAchseArray.push((parsedCSV[i]["tempo"]*1000)/2);
					//console.log("yAchse array " + xAchseArray[i] +" in die position " + i);
				}else if (yAchseOption.val() ==="playcount") {
					yAchseArray.push(((parsedCSV[i]["playcount"]*50)/2) +100);
					//console.log("yAchse array " + xAchseArray[i] +" in die position " + i);
				}else if (yAchseOption.val() ==="loudness")	{
					yAchseArray.push(parsedCSV[i]["loudness"] *(-1)/100+300);
					//console.log("yAchse array " + xAchseArray[i] +" in die position " + i);
				}else if (yAchseOption.val() ==="jahr")	{
					yAchseArray.push(((parsedCSV[i]["Jahr"]) /4)-300);
					//console.log("yAchse array " + xAchseArray[i] +" in die position " + i);
				}

			}//end for

		//wort an die achsen schreiben
		var titleY = container.append("rect").attr("x",50).attr("y",170).attr("width",46).attr("height",160).attr("fill","white");
		if(yAchseOption.val()!="leer"){
			var yText =  container.append("text").attr("x",220).attr("y",-70).attr("transform","rotate(90)").attr("id","yAchseText").text(yAchseOption.val());
		}
	});

	$("#kreisGrosse").change(function(){
		kreisGrosseOption = $("#kreisGrosseSelect option:selected");
		var type = kreisGrosseOption.val();
		kreisGrosseArray=[];

		for (var i = 0; i < parsedCSV.length; i++) {
			if	(type ==="danceability"){ 
				kreisGrosseArray.push(parsedCSV[i][type]*20); 
// 				console.log("kreisGrosseOption variable " + type + " array : " + kreisGrosseArray); 
			}
			else if (type ==="energy")		{ 
				kreisGrosseArray.push(parsedCSV[i][type]*20); 
// 				console.log("kreisGrosseOption variable " + type + " array : " + kreisGrosseArray); 
			}
			else if (type ==="playcount")	{ 
				kreisGrosseArray.push((parsedCSV[i][type]*20)/10); 
// 				console.log("kreisGrosseOption variable " + type + " array : " + kreisGrosseArray); 
			}
			else if (type ==="tempo")		{ 
				kreisGrosseArray.push((parsedCSV[i][type]*20)/100); 
// 				console.log("kreisGrosseOption variable " + type + " array : " + kreisGrosseArray); 
			}
			else if (type ==="loudness")	{ 
				kreisGrosseArray.push(((parsedCSV[i][type]*20)*(-1))/10); 
// 				console.log("kreisGrosseOption variable " + type + " array : " + kreisGrosseArray); 

			}

		}
	});

	function initGenreTable(){
	var array = [];
	var k = 0;
		for (var i = 0; i < parsedCSV.length; i++) {
			var genre = parsedCSV[i]["genre"];
			var saved = false;
			for(var j = 0; j < array.length; j++){
				if(genre === array[j]){
					saved = true;
					break;
				}
			}
			if(!saved){
				array[k++] = genre;
			}
		}
		var table = document.getElementById('tableColor');
		table.innerHTML = "";
		var tr;
		for(var i = 0; i < array.length; i++){
			if(i % 3 == 0 && i != 0){
				table.appendChild(tr);
			}
			if(i % 3 == 0){
				tr = document.createElement('tr');
			}
			var td = document.createElement('td');
			td.setAttribute('bgcolor', colorGenre(array[i]));
			var font = document.createElement('font');
			font.setAttribute('color', 'white');
			font.innerHTML = array[i];
			td.appendChild(font);
			tr.appendChild(td);
		}
	};


	function colorGenre(genre) {
           if (genre ==="dance") {return "red"}
           else if (genre ==="deepHouse") {return "green"}
           else if (genre ==="house") {return "blue"}
           else if (genre ==="latinParty") {return "pink"}
           else if (genre ==="Deep House") {return "orange"}
           else if (genre ==="House") {return "yellow"}
           else if (genre ==="Lounge / Nu Jazz / House") {return "silver"}
           else if (genre ==="Dance") {return "purple"}
           else if (genre ==="TropicalHouse") {return "brown"}
           else{ return "black" };
	};

	$("#colorDanceability").hide();
	$("#colorEnergy").hide();
	$("#colorTempo").hide();
	$("#colorGenre").hide();
	$("#colorKey").hide();

	$('#colorFilter').change(function(){
		colorFilterOption = $('#colorFilter option:selected');

		colorFilterArray=[];
		for (var i = 0; i < parsedCSV.length; i++) {

			if (colorFilterOption.val()==="leer"){
				$("#colorDanceability").hide();
 				$("#colorEnergy").hide();//toggle before
				$("#colorTempo").hide();
				$("#colorGenre").hide();
				$("#colorKey").hide();
			}

			if (colorFilterOption.val()==="danceability"){
				$("#colorDanceability").show();
				$("#colorEnergy").hide();
				$("#colorTempo").hide();
				$("#colorGenre").hide();
				$("#colorKey").hide();

				colorFilterArray.push(parsedCSV[i][colorFilterOption.val()]);
				//console.log("the option selected for color is" + colorFilterOption.val()+ " and the colorFilterArray is "+ colorFilterArray[i]);
				}

			if (colorFilterOption.val()==="energy"){
				$("#colorDanceability").hide();
 				$("#colorEnergy").show();
				$("#colorTempo").hide();
				$("#colorGenre").hide();
				$("#colorKey").hide();
				colorFilterArray.push(parsedCSV[i][colorFilterOption.val()]);
			}
			if (colorFilterOption.val()==="tempo"){
				$("#colorDanceability").hide();
				$("#colorEnergy").hide();
 				$("#colorTempo").show();
				$("#colorGenre").hide();
				$("#colorKey").hide();
				colorFilterArray.push(parsedCSV[i][colorFilterOption.val()]);

			}
			if (colorFilterOption.val()==="genre"){

				$("#colorDanceability").hide();
				$("#colorEnergy").hide();
				$("#colorTempo").hide();
				$("#colorGenre").show();
				$("#colorKey").hide();
				initGenreTable();

				colorFilterArray.push(parsedCSV[i][colorFilterOption.val()]);

			}
			if (colorFilterOption.val()==="key"){ //key is the color of the circles
				$("#colorDanceability").hide();
				$("#colorEnergy").hide();
				$("#colorTempo").hide();
				$("#colorGenre").hide();
				$("#colorKey").show();
				colorFilterArray.push(parsedCSV[i][colorFilterOption.val()]);

			}//end if option 5

		}
	});//end color filter


		// sliders werden gebildet, fuer jede Attribut - eigene Slider
	buildSliders();
	buildSliders();
	
	
	
	function cleanerLeft(){
		
				var cleaner = container.append("rect").attr("x",0).attr("y",0).attr("width",600).attr("height",600).attr("fill","white");
		//	var test=  container.append("text").attr("x",10).attr("y",10).attr("id","xAchseText").text("cleaner left");
							
				var axeX = container.append("line").attr("x1",100).attr("y1",500).attr("x2",600).attr("y2",500).attr("stroke","red").attr("stroke-width",2);
				var xSpike = container.append("polygon").attr("points","100,0 95,20 105,20").style("fill","red").style("stroke","red").style("stroke-width",2);
				
				var axeY = container.append("line").attr("x1",100).attr("y1",0).attr("x2",100).attr("y2",500).attr("stroke","red").attr("stroke-width",2);
				var xSpike = container.append("polygon").attr("points","600,500 580,495 580,505	").style("fill","red").style("stroke","red").style("stroke-width",2);
				
				var separationLineX = container.append("line").attr("x1",350).attr("y1",20).attr("x2",350).attr("y2",480).attr("stroke","black").attr("stroke-width",1);
				var separationLineY = container.append("line").attr("x1",120).attr("y1",250).attr("x2",580).attr("y2",250).attr("stroke","black").attr("stroke-width",1);
				
				var origin =  container.append("text").attr("x",80).attr("y",520).attr("id","xAchseText").text("0");
				var yPlus =  container.append("text").attr("x",80).attr("y",20).attr("id","xAchseText").text("+");
				var xPlus =  container.append("text").attr("x",580).attr("y",520).attr("id","xAchseText").text("+");

 				var xText =  container.append("text").attr("x",300).attr("y",520).attr("id","xAchseText").text(xAchseOption.val());
 				var yText =  container.append("text").attr("x",220).attr("y",-70).attr("transform","rotate(90)").attr("id","yAchseText").text(yAchseOption.val());

				return;
	}
			

	$('#showButton').click(function(){ 
		cleanerLeft();
		//poner el siguiente for como funcion aparte para poder usarlo en los click de las notas
		for (var i = 0; i < parsedCSV.length; i++) {
				var circle = container.append('circle')
				.attr('cx', xAchseArray[i] )
				.attr('cy',yAchseArray[i]);
				circle.attr('r',kreisGrosseArray[i]);
				if(colorFilterOption.val()==="key"){
						circle.attr('fill',colorKey(colorFilterArray[i]));
				}
		}
	});

//this functions are for the showing of only the circles of a note. The rest will be fuzzy

//make all the circles transparent but the c
// if clicked again turned normal
	$(".C").click(function(){	       
		cleanerLeft();
		if($(this).attr('clickState')=="0"){
			for (var i = 0; i < parsedCSV.length; i++) {
				if(colorFilterArray[i]=="0"){
					var circle = container.append('circle')
					.attr('cx', xAchseArray[i] )
					.attr('cy', yAchseArray[i])
					.attr('r',kreisGrosseArray[i])
					.attr('fill',"green");
				}else{
					var circle2 = container.append('circle')
					.attr('cx', xAchseArray[i] )
					.attr('cy',yAchseArray[i])
					.attr('r',kreisGrosseArray[i])
					.attr('fill',"black")
					.attr('fill-opacity',"0.2");
				}
			}
			$(this).attr("clickState",1);
		}else{
			//regreso a lo normal
			for (var i = 0; i < parsedCSV.length; i++) {
				var circle = container.append('circle')
				.attr('cx', xAchseArray[i] )
				.attr('cy',yAchseArray[i]);
				circle.attr('r',kreisGrosseArray[i]);
				if(colorFilterOption.val()==="key"){
						circle.attr('fill',colorKey(colorFilterArray[i]));
				}
			}
			$(this).attr("clickState",0);
		}
	});
	$(".CS").click(function(){	       
		cleanerLeft();
		if($(this).attr('clickState')=="0"){
			for (var i = 0; i < parsedCSV.length; i++) {
				if(colorFilterArray[i]=="1"){
					var circle = container.append('circle')
					.attr('cx', xAchseArray[i] )
					.attr('cy', yAchseArray[i])
					.attr('r',kreisGrosseArray[i])
					.attr('fill',"green");
				}else{
					var circle2 = container.append('circle')
					.attr('cx', xAchseArray[i] )
					.attr('cy',yAchseArray[i])
					.attr('r',kreisGrosseArray[i])
					.attr('fill',"black")
					.attr('fill-opacity',"0.2");
				}
			}
			$(this).attr("clickState",1);
		}else{
			//regreso a lo normal
			for (var i = 0; i < parsedCSV.length; i++) {
				var circle = container.append('circle')
				.attr('cx', xAchseArray[i] )
				.attr('cy',yAchseArray[i]);
				circle.attr('r',kreisGrosseArray[i]);
				if(colorFilterOption.val()==="key"){
						circle.attr('fill',colorKey(colorFilterArray[i]));
				}
			}
			$(this).attr("clickState",0);
		}
	 });
	$(".D").click(function(){	       
		cleanerLeft();
		if($(this).attr('clickState')=="0"){
			for (var i = 0; i < parsedCSV.length; i++) {
				if(colorFilterArray[i]=="2"){
					var circle = container.append('circle')
					.attr('cx', xAchseArray[i] )
					.attr('cy', yAchseArray[i])
					.attr('r',kreisGrosseArray[i])
					.attr('fill',"green");
				}else{
					var circle2 = container.append('circle')
					.attr('cx', xAchseArray[i] )
					.attr('cy',yAchseArray[i])
					.attr('r',kreisGrosseArray[i])
					.attr('fill',"black")
					.attr('fill-opacity',"0.2");
				}
			}
			$(this).attr("clickState",1);
		}else{
			//regreso a lo normal
			for (var i = 0; i < parsedCSV.length; i++) {
				var circle = container.append('circle')
				.attr('cx', xAchseArray[i] )
				.attr('cy',yAchseArray[i]);
				circle.attr('r',kreisGrosseArray[i]);
				if(colorFilterOption.val()==="key"){
						circle.attr('fill',colorKey(colorFilterArray[i]));
				}
			}
			$(this).attr("clickState",0);
		}
	 });
	$(".DS").click(function(){	       
		cleanerLeft();
		if($(this).attr('clickState')=="0"){
			for (var i = 0; i < parsedCSV.length; i++) {
				if(colorFilterArray[i]=="3"){
					var circle = container.append('circle')
					.attr('cx', xAchseArray[i] )
					.attr('cy', yAchseArray[i])
					.attr('r',kreisGrosseArray[i])
					.attr('fill',"green");
				}else{
					var circle2 = container.append('circle')
					.attr('cx', xAchseArray[i] )
					.attr('cy',yAchseArray[i])
					.attr('r',kreisGrosseArray[i])
					.attr('fill',"black")
					.attr('fill-opacity',"0.2");
				}
			}
			$(this).attr("clickState",1);
		}else{
			//regreso a lo normal
			for (var i = 0; i < parsedCSV.length; i++) {
				var circle = container.append('circle')
				.attr('cx', xAchseArray[i] )
				.attr('cy',yAchseArray[i]);
				circle.attr('r',kreisGrosseArray[i]);
				if(colorFilterOption.val()==="key"){
						circle.attr('fill',colorKey(colorFilterArray[i]));
				}
			}
			$(this).attr("clickState",0);
		}
	 });
	$(".E").click(function(){	       
		cleanerLeft();
		if($(this).attr('clickState')=="0"){
			for (var i = 0; i < parsedCSV.length; i++) {
				if(colorFilterArray[i]=="4"){
					var circle = container.append('circle')
					.attr('cx', xAchseArray[i] )
					.attr('cy', yAchseArray[i])
					.attr('r',kreisGrosseArray[i])
					.attr('fill',"green");
				}else{
					var circle2 = container.append('circle')
					.attr('cx', xAchseArray[i] )
					.attr('cy',yAchseArray[i])
					.attr('r',kreisGrosseArray[i])
					.attr('fill',"black")
					.attr('fill-opacity',"0.2");
				}
			}
			$(this).attr("clickState",1);
		}else{
			//regreso a lo normal
			for (var i = 0; i < parsedCSV.length; i++) {
				var circle = container.append('circle')
				.attr('cx', xAchseArray[i] )
				.attr('cy',yAchseArray[i]);
				circle.attr('r',kreisGrosseArray[i]);
				if(colorFilterOption.val()==="key"){
						circle.attr('fill',colorKey(colorFilterArray[i]));
				}
			}
			$(this).attr("clickState",0);
		}
	 });
	$(".F").click(function(){	       
		cleanerLeft();
		if($(this).attr('clickState')=="0"){
			for (var i = 0; i < parsedCSV.length; i++) {
				if(colorFilterArray[i]=="5"){
					var circle = container.append('circle')
					.attr('cx', xAchseArray[i] )
					.attr('cy', yAchseArray[i])
					.attr('r',kreisGrosseArray[i])
					.attr('fill',"green");
				}else{
					var circle2 = container.append('circle')
					.attr('cx', xAchseArray[i] )
					.attr('cy',yAchseArray[i])
					.attr('r',kreisGrosseArray[i])
					.attr('fill',"black")
					.attr('fill-opacity',"0.2");
				}
			}
			$(this).attr("clickState",1);
		}else{
			//regreso a lo normal
			for (var i = 0; i < parsedCSV.length; i++) {
				var circle = container.append('circle')
				.attr('cx', xAchseArray[i] )
				.attr('cy',yAchseArray[i]);
				circle.attr('r',kreisGrosseArray[i]);
				if(colorFilterOption.val()==="key"){
						circle.attr('fill',colorKey(colorFilterArray[i]));
				}
			}
			$(this).attr("clickState",0);
		}
	 });
	$(".FS").click(function(){	       
		cleanerLeft();
		if($(this).attr('clickState')=="0"){
			for (var i = 0; i < parsedCSV.length; i++) {
				if(colorFilterArray[i]=="6"){
					var circle = container.append('circle')
					.attr('cx', xAchseArray[i] )
					.attr('cy', yAchseArray[i])
					.attr('r',kreisGrosseArray[i])
					.attr('fill',"green");
				}else{
					var circle2 = container.append('circle')
					.attr('cx', xAchseArray[i] )
					.attr('cy',yAchseArray[i])
					.attr('r',kreisGrosseArray[i])
					.attr('fill',"black")
					.attr('fill-opacity',"0.2");
				}
			}
			$(this).attr("clickState",1);
		}else{
			//regreso a lo normal
			for (var i = 0; i < parsedCSV.length; i++) {
				var circle = container.append('circle')
				.attr('cx', xAchseArray[i] )
				.attr('cy',yAchseArray[i]);
				circle.attr('r',kreisGrosseArray[i]);
				if(colorFilterOption.val()==="key"){
						circle.attr('fill',colorKey(colorFilterArray[i]));
				}
			}
			$(this).attr("clickState",0);
		}
	 });
	$(".G").click(function(){	       
		cleanerLeft();
		if($(this).attr('clickState')=="0"){
			for (var i = 0; i < parsedCSV.length; i++) {
				if(colorFilterArray[i]=="7"){
					var circle = container.append('circle')
					.attr('cx', xAchseArray[i] )
					.attr('cy', yAchseArray[i])
					.attr('r',kreisGrosseArray[i])
					.attr('fill',"green");
				}else{
					var circle2 = container.append('circle')
					.attr('cx', xAchseArray[i] )
					.attr('cy',yAchseArray[i])
					.attr('r',kreisGrosseArray[i])
					.attr('fill',"black")
					.attr('fill-opacity',"0.2");
				}
			}
			$(this).attr("clickState",1);
		}else{
			//regreso a lo normal
			for (var i = 0; i < parsedCSV.length; i++) {
				var circle = container.append('circle')
				.attr('cx', xAchseArray[i] )
				.attr('cy',yAchseArray[i]);
				circle.attr('r',kreisGrosseArray[i]);
				if(colorFilterOption.val()==="key"){
						circle.attr('fill',colorKey(colorFilterArray[i]));
				}
			}
			$(this).attr("clickState",0);
		}	 });
	$(".GS").click(function(){	       
		cleanerLeft();
		if($(this).attr('clickState')=="0"){
			for (var i = 0; i < parsedCSV.length; i++) {
				if(colorFilterArray[i]=="8"){
					var circle = container.append('circle')
					.attr('cx', xAchseArray[i] )
					.attr('cy', yAchseArray[i])
					.attr('r',kreisGrosseArray[i])
					.attr('fill',"green");
				}else{
					var circle2 = container.append('circle')
					.attr('cx', xAchseArray[i] )
					.attr('cy',yAchseArray[i])
					.attr('r',kreisGrosseArray[i])
					.attr('fill',"black")
					.attr('fill-opacity',"0.2");
				}
			}
			$(this).attr("clickState",1);
		}else{
			//regreso a lo normal
			for (var i = 0; i < parsedCSV.length; i++) {
				var circle = container.append('circle')
				.attr('cx', xAchseArray[i] )
				.attr('cy',yAchseArray[i]);
				circle.attr('r',kreisGrosseArray[i]);
				if(colorFilterOption.val()==="key"){
						circle.attr('fill',colorKey(colorFilterArray[i]));
				}
			}
			$(this).attr("clickState",0);
		}	 });
	$(".A").click(function(){	       
		cleanerLeft();
		if($(this).attr('clickState')=="0"){
			for (var i = 0; i < parsedCSV.length; i++) {
				if(colorFilterArray[i]=="9"){
					var circle = container.append('circle')
					.attr('cx', xAchseArray[i] )
					.attr('cy', yAchseArray[i])
					.attr('r',kreisGrosseArray[i])
					.attr('fill',"green");
				}else{
					var circle2 = container.append('circle')
					.attr('cx', xAchseArray[i] )
					.attr('cy',yAchseArray[i])
					.attr('r',kreisGrosseArray[i])
					.attr('fill',"black")
					.attr('fill-opacity',"0.2");
				}
			}
			$(this).attr("clickState",1);
		}else{
			//regreso a lo normal
			for (var i = 0; i < parsedCSV.length; i++) {
				var circle = container.append('circle')
				.attr('cx', xAchseArray[i] )
				.attr('cy',yAchseArray[i]);
				circle.attr('r',kreisGrosseArray[i]);
				if(colorFilterOption.val()==="key"){
						circle.attr('fill',colorKey(colorFilterArray[i]));
				}
			}
			$(this).attr("clickState",0);
		}
	 });

	$(".AS").click(function(){	       
		cleanerLeft();
		if($(this).attr('clickState')=="0"){
			for (var i = 0; i < parsedCSV.length; i++) {
				if(colorFilterArray[i]=="10"){
					var circle = container.append('circle')
					.attr('cx', xAchseArray[i] )
					.attr('cy', yAchseArray[i])
					.attr('r',kreisGrosseArray[i])
					.attr('fill',"green");
				}else{
					var circle2 = container.append('circle')
					.attr('cx', xAchseArray[i] )
					.attr('cy',yAchseArray[i])
					.attr('r',kreisGrosseArray[i])
					.attr('fill',"black")
					.attr('fill-opacity',"0.2");
				}
			}
			$(this).attr("clickState",1);
		}else{
			//regreso a lo normal
			for (var i = 0; i < parsedCSV.length; i++) {
				var circle = container.append('circle')
				.attr('cx', xAchseArray[i] )
				.attr('cy',yAchseArray[i]);
				circle.attr('r',kreisGrosseArray[i]);
				if(colorFilterOption.val()==="key"){
						circle.attr('fill',colorKey(colorFilterArray[i]));
				}
			}
			$(this).attr("clickState",0);
		}
	 });

	$(".B").click(function(){	       
		cleanerLeft();
		if($(this).attr('clickState')=="0"){
			for (var i = 0; i < parsedCSV.length; i++) {
				if(colorFilterArray[i]=="11"){
					var circle = container.append('circle')
					.attr('cx', xAchseArray[i] )
					.attr('cy', yAchseArray[i])
					.attr('r',kreisGrosseArray[i])
					.attr('fill',"green");
				}else{
					var circle2 = container.append('circle')
					.attr('cx', xAchseArray[i] )
					.attr('cy',yAchseArray[i])
					.attr('r',kreisGrosseArray[i])
					.attr('fill',"black")
					.attr('fill-opacity',"0.2");
				}
			}
			$(this).attr("clickState",1);
		}else{
			//regreso a lo normal
			for (var i = 0; i < parsedCSV.length; i++) {
				var circle = container.append('circle')
				.attr('cx', xAchseArray[i] )
				.attr('cy',yAchseArray[i]);
				circle.attr('r',kreisGrosseArray[i]);
				if(colorFilterOption.val()==="key"){
						circle.attr('fill',colorKey(colorFilterArray[i]));
				}
			}
			$(this).attr("clickState",0);
		}
	 });


		//so bald man betätigt den Buttton von Slider, "range" uebernimmt  die neue ausgewählte Grenze
		//wert wird gespeichert in range im Form 0.3;0.8
		$(".slider").click(function(){
			var a=$(this).find('input[type="slider"]');
			var range = a.val();
			var array = range.split(';');
		     sliderLinks1 =array[0];
			 sliderRechts1 = array[1];
			console.log("wert right 1: " + sliderLinks1);
		
			console.log("wert right 2: " + sliderRechts1);
		
		});
		
	//sejchas=====================================================================================================
	//die ausgewahlte Tags werden bei anderen Selectboxes ausgeblendet

		$('#xAchse1').change(function(){
				$("#yAchse1 option").show();
				$("#kreisGrosse1Select1 option").show();
			    $("#colorFilter1 option").show();
		
				$("#yAchse1 option[value="+$(this).val()+"]").hide();
				//$("#kreisGrosse1Select1 option[value="+$(this).val()+"]").hide();
				//$("#colorFilter1 option[value="+$(this).val()+"]").hide();
		
		});

		$('#yAchse1').change(function(){
				$("#xAchse11 option").show();
				//$("#kreisGrosse1Select1 option").show();
				//$("#colorFilter1 option").show();
		
		
				$("#xAchse11 option[value="+$(this).val()+"]").hide();
				//$("#kreisGrosse1Select1 option[value="+$(this).val()+"]").hide();
				//$("#colorFilter1 option[value="+$(this).val()+"]").hide();
		
				//$("#kreisGrosse1Select1 option[value="+$("#xAchse1").val()+"]").hide();
				//$("#colorFilter1 option[value="+$("#xAchse1").val()+"]").hide();
		});


		$('#kreisGrosse1Select1').change(function(){
				$("#xAchse1 option").show();
				$("#yAchse1 option").show();
			    $("#colorFilter1 option").show();
		
				//$("#xAchse1 option[value="+$(this).val()+"]").hide();
				//$("#yAchse1 option[value="+$(this).val()+"]").hide();
				$("#colorFilter1 option[value="+$(this).val()+"]").hide();
				// $("#kreisGrosse1Select1 option[value="+$("#xAchse1").val()+"]").hide();
				//$("#colorFilter1 option[value="+$("#xAchse1").val()+"]").hide();
		        //$("#colorFilter1 option[value="+$("#yAchse1").val()+"]").hide();
		});

		$('#colorFilter1').change(function(){
				//$("#xAchse1 option").show();
				//$("#xAchse1 option[value="+$(this).val()+"]").hide();
				//$("#yAchse1 option[value="+$(this).val()+"]").hide();
		//		$("#kreisGrosse1Select1 option[value="+$(this).val()+"]").hide();
				});
		
				// Achse select
		$('#achsen1').change(function(){
			xAchseArray1 = [];
			yAchse1Array1 = [];
			
			xAchseOption1 = $("#xAchse1 option:selected");
			for (var i = 0; i < parsedCSV.length; i++) {
				if 	(xAchseOption1.val() ==="danceability")	{ 
					xAchseArray1.push(((parsedCSV[i][xAchseOption1.val()]*1000)/2) +100);
					//console.log("arreglando el arreglo vamos a ver !!!!!! xAchse array " + xAchseArray1[i] +" in die position " + i);
				}else if (xAchseOption1.val() ==="energy") 	{ 
					xAchseArray1.push(((parsedCSV[i][xAchseOption1.val()]*1000)/2) +100);
					//console.log("xAchse array " + xAchseArray1[i] +" in die position " + i);
				}else if (xAchseOption1.val() ==="tempo")  	{ 
					//für tempo sollen wir sehen wie wir die daten von spotify bekommen. Wenn es ist tempo 120.000 man kann nicht *1000/2+100 machen
					xAchseArray1.push(parsedCSV[i][xAchseOption1.val()] +100);
					//console.log("xAchse array " + xAchseArray1[i] +" in die position " + i);
				}else if (xAchseOption1.val() ==="playcount"){
					xAchseArray1.push(parsedCSV[i][xAchseOption1.val()] +100);
					//console.log("xAchse array " + xAchseArray1[i] +" in die position " + i);
				}else if (xAchseOption1.val() ==="loudness")		{ 
					xAchseArray1.push(parsedCSV[i]["loudness"] +100);//loudness has to be bigger than -200 db
					//console.log("xAchse array " + xAchseArray1[i] +" in die position " + i);
				}	else if (xAchseOption1.val() ==="jahr")	{ xAchse = xAchseOption1.val();  
					xAchseArray1.push(parsedCSV[i]["jahr"] +100);
					//console.log("xAchse array " + xAchseArray1[i] +" in die position " + i);
				}
			}//end for	
				
			//wort an die achsen schreiben
			var titleX = container.append("rect").attr("x",250).attr("y",505).attr("width",160).attr("height",45).attr("fill","white");
			if(xAchseOption1.val()!="leer"){
				var xText =  container.append("text").attr("x",300).attr("y",520).attr("id","xAchseText").text(xAchseOption1.val());
			}
			yAchse1Option1 = $("#yAchse1 option:selected");
				for (var i = 0; i < parsedCSV.length; i++) {
					if 	(yAchse1Option1.val() ==="danceability")	{ 
						yAchse1Array1.push((parsedCSV[i]["danceability"]*1000)/2);
						//console.log("yAchse1 array " + yAchse1Array1[i] +" in die position " + i);
					}else if (yAchse1Option1.val() ==="energy") { 
						yAchse1Array1.push((parsedCSV[i]["energy"]*1000)/2);
						//console.log("yAchse1 array " + yAchse1Array1[i] +" in die position " + i);
					}else if (yAchse1Option1.val() ==="tempo") { 
						yAchse1Array1.push((parsedCSV[i]["tempo"]*1000)/2);
						//console.log("yAchse1 array " + xAchseArray1[i] +" in die position " + i);
					}else if (yAchse1Option1.val() ==="playcount") { 
						yAchse1Array1.push((parsedCSV[i]["playcount"]*1000)/2);
						//console.log("yAchse1 array " + xAchseArray1[i] +" in die position " + i);
					}else if (yAchse1Option1.val() ==="loudness")	{
						yAchse1Array1.push((parsedCSV[i]["loudness"]*1000)/2);
						//console.log("yAchse1 array " + xAchseArray1[i] +" in die position " + i);
					}else if (yAchse1Option1.val() ==="jahr")	{ 
						yAchse1Array1.push((parsedCSV[i]["jahr"]*1000)/2);
						//console.log("yAchse1 array " + xAchseArray1[i] +" in die position " + i);
					}
						
				}//end for
				
			//wort an die achsen schreiben
			var titleY = container.append("rect").attr("x",50).attr("y",170).attr("width",46).attr("height",160).attr("fill","white");
			if(yAchse1Option1.val()!="leer"){
				var yText =  container.append("text").attr("x",220).attr("y",-70).attr("transform","rotate(90)").attr("id","yAchse1Text").text(yAchse1Option1.val());
			}
		});
						
		$("#kreisGrosse1").change(function(){
			kreisGrosseOption1 = $("#kreisGrosse1Select1 option:selected");
			var type = kreisGrosseOption1.val();
			kreisGrosseArray1=[];
			
			for (var i = 0; i < parsedCSV.length; i++) {
				if	(type ==="danceability"){ 
					kreisGrosseArray1.push(parsedCSV[i][type]*20); 
//	 				console.log("kreisGrosseOption1 variable " + type + " array : " + kreisGrosseArray1); 
				}
				else if (type ==="energy")		{ 
					kreisGrosseArray1.push(parsedCSV[i][type]*20); 
//	 				console.log("kreisGrosseOption1 variable " + type + " array : " + kreisGrosseArray1); 
				}
				else if (type ==="playcount")	{ 
					kreisGrosseArray1.push((parsedCSV[i][type]*20)/10); 
//	 				console.log("kreisGrosseOption1 variable " + type + " array : " + kreisGrosseArray1); 
				}
				else if (type ==="tempo")		{ 
					kreisGrosseArray1.push((parsedCSV[i][type]*20)/100); 
//	 				console.log("kreisGrosseOption1 variable " + type + " array : " + kreisGrosseArray1); 
				}
				else if (type ==="loudness")	{ 
					kreisGrosseArray1.push(((parsedCSV[i][type]*20)*(-1))/10); 
//	 				console.log("kreisGrosseOption1 variable " + type + " array : " + kreisGrosseArray1); 
				}
				
			}
		});
		
		function initGenreTable(){
		var array = [];
		var k = 0;
			for (var i = 0; i < parsedCSV.length; i++) {
				var genre = parsedCSV[i]["genre"];
				var saved = false;
				for(var j = 0; j < array.length; j++){
					if(genre === array[j]){
						saved = true;
						break;
					}
				}
				if(!saved){
					array[k++] = genre;
				}
			}
			var table = document.getElementById('tableColor');
			table.innerHTML = "";
			var tr;
			for(var i = 0; i < array.length; i++){
				if(i % 3 == 0 && i != 0){
					table.appendChild(tr);
				}
				if(i % 3 == 0){
					tr = document.createElement('tr');
				}
				var td = document.createElement('td');
				td.setAttribute('bgcolor', colorGenre(array[i]));
				var font = document.createElement('font');
				font.setAttribute('color', 'white');
				font.innerHTML = array[i];
				td.appendChild(font);
				tr.appendChild(td);
			}
		};


		function colorGenre(genre) {
	           if (genre ==="dance") {return "red"}
	           else if (genre ==="deepHouse") {return "green"}
	           else if (genre ==="house") {return "blue"}
	           else if (genre ==="latinParty") {return "pink"}
	           else if (genre ==="Deep House") {return "orange"}
	           else if (genre ==="House") {return "yellow"}
	           else if (genre ==="Lounge / Nu Jazz / House") {return "silver"}
	           else if (genre ==="Dance") {return "purple"}
	           else if (genre ==="TropicalHouse") {return "brown"}
	           else{ return "black" };
		};

		$("#colorDanceability1").hide();
		$("#colorEnergy1").hide();
		$("#colorTempo1").hide();
		$("#colorGenre1").hide();
		$("#colorKey1").hide();

		$('#colorFilter1').change(function(){
			colorFilterOption1 = $('#colorFilter1 option:selected');
		
			colorFilterArray1=[];
			for (var i = 0; i < parsedCSV.length; i++) {

				if (colorFilterOption1.val()==="leer"){
					$("#colorDanceability1").hide();
	 				$("#colorEnergy1").hide();//toggle before 
					$("#colorTempo1").hide();
					$("#colorGenre1").hide();
					$("#colorKey1").hide();
				}
				
				if (colorFilterOption1.val()==="danceability"){
					$("#colorDanceability1").show();
					$("#colorEnergy1").hide();
					$("#colorTempo1").hide();
					$("#colorGenre1").hide();
					$("#colorKey1").hide();
					
					colorFilterArray1.push(parsedCSV[i][colorFilterOption1.val()]); 
					//console.log("the option selected for color is" + colorFilterOption1.val()+ " and the colorFilterArray1 is "+ colorFilterArray1[i]); 
					}
				
				if (colorFilterOption1.val()==="energy"){
					$("#colorDanceability1").hide();
	 				$("#colorEnergy1").show();
					$("#colorTempo1").hide();
					$("#colorGenre1").hide();
					$("#colorKey1").hide();
					colorFilterArray1.push(parsedCSV[i][colorFilterOption1.val()]); 
				}
				if (colorFilterOption1.val()==="tempo"){
					$("#colorDanceability1").hide();
					$("#colorEnergy1").hide();
	 				$("#colorTempo1").show();
					$("#colorGenre1").hide();
					$("#colorKey1").hide();
					colorFilterArray1.push(parsedCSV[i][colorFilterOption1.val()]); 
					
				}
				if (colorFilterOption1.val()==="genre"){

					$("#colorDanceability1").hide();
					$("#colorEnergy1").hide();
					$("#colorTempo1").hide();
					$("#colorGenre1").show();
					$("#colorKey1").hide();
					initGenreTable();
					
					colorFilterArray1.push(parsedCSV[i][colorFilterOption1.val()]); 

				}
				if (colorFilterOption1.val()==="key"){ //key is the color of the circles
					$("#colorDanceability1").hide();
					$("#colorEnergy1").hide();
					$("#colorTempo1").hide();
					$("#colorGenre1").hide();
					$("#colorKey1").show();
					colorFilterArray1.push(parsedCSV[i][colorFilterOption1.val()]); 

				}//end if option 5
			
			}
		});//end color filter


			// sliders werden gebildet, fuer jede Attribut - eigene Slider
		buildSliders();
		buildSliders();
		
		
		
		function cleanerRight(){ //noch anzupassen
			
					var cleaner = container.append("rect").attr("x",600).attr("y",0).attr("width",700).attr("height",700).attr("fill","white");
			//	var test=  container.append("text").attr("x",10).attr("y",10).attr("id","xAchseText").text("cleaner right");
								
					var axeX = container.append("line").attr("x1",100).attr("y1",500).attr("x2",600).attr("y2",500).attr("stroke","red").attr("stroke-width",2);
					var xSpike = container.append("polygon").attr("points","100,0 95,20 105,20").style("fill","red").style("stroke","red").style("stroke-width",2);
					
					var axeY = container.append("line").attr("x1",100).attr("y1",0).attr("x2",100).attr("y2",500).attr("stroke","red").attr("stroke-width",2);
					var xSpike = container.append("polygon").attr("points","600,500 580,495 580,505	").style("fill","red").style("stroke","red").style("stroke-width",2);
					
					var separationLineX = container.append("line").attr("x1",350).attr("y1",20).attr("x2",350).attr("y2",480).attr("stroke","black").attr("stroke-width",1);
					var separationLineY = container.append("line").attr("x1",120).attr("y1",250).attr("x2",580).attr("y2",250).attr("stroke","black").attr("stroke-width",1);
					
					var origin =  container.append("text").attr("x",80).attr("y",520).attr("id","xAchseText").text("0");
					var yPlus =  container.append("text").attr("x",80).attr("y",20).attr("id","xAchseText").text("+");
					var xPlus =  container.append("text").attr("x",580).attr("y",520).attr("id","xAchseText").text("+");

	 				var xText =  container.append("text").attr("x",300).attr("y",520).attr("id","xAchseText").text(xAchseOption1.val());
	 				var yText =  container.append("text").attr("x",220).attr("y",-70).attr("transform","rotate(90)").attr("id","yAchse1Text").text(yAchse1Option1.val());

					return;
		}
				

		$('#showButton1').click(function(){ 
			cleanerRight();
			//poner el siguiente for como funcion aparte para poder usarlo en los click de las notas
			for (var i = 0; i < parsedCSV.length; i++) {
					var circle = container.append('circle')
					.attr('cx', xAchseArray1[i] )
					.attr('cy',yAchse1Array1[i]);
					circle.attr('r',kreisGrosseArray1[i]);
					if(colorFilterOption1.val()==="key"){
							circle.attr('fill',colorKey(colorFilterArray1[i]));
					}
			}
		});

	//this functions are for the showing of only the circles of a note. The rest will be fuzzy
	//make all the circles transparent but the c
	// if clicked again turned normal
		$(".C1").click(function(){	       
			cleanerRight();
			if($(this).attr('clickState')=="0"){
				for (var i = 0; i < parsedCSV.length; i++) {
					if(colorFilterArray1[i]=="0"){
						var circle = container.append('circle')
						.attr('cx', xAchseArray1[i] )
						.attr('cy', yAchse1Array1[i])
						.attr('r',kreisGrosseArray1[i])
						.attr('fill',"green");		
					}else{
						var circle2 = container.append('circle')
						.attr('cx', xAchseArray1[i] )
						.attr('cy',yAchse1Array1[i])
						.attr('r',kreisGrosseArray1[i])
						.attr('fill',"black")
						.attr('fill-opacity',"0.2");		
					}
				}
				$(this).attr("clickState",1);
			}else{
				//regreso a lo normal
				for (var i = 0; i < parsedCSV.length; i++) {
					var circle = container.append('circle')
					.attr('cx', xAchseArray1[i] )
					.attr('cy',yAchse1Array1[i]);
					circle.attr('r',kreisGrosseArray1[i]);
					if(colorFilterOption1.val()==="key"){
							circle.attr('fill',colorKey(colorFilterArray1[i]));
					}
				}
				$(this).attr("clickState",0);
			}
		});
		$(".CS1").click(function(){	       
			cleanerRight();
			if($(this).attr('clickState')=="0"){
				for (var i = 0; i < parsedCSV.length; i++) {
					if(colorFilterArray1[i]=="1"){
						var circle = container.append('circle')
						.attr('cx', xAchseArray1[i] )
						.attr('cy', yAchse1Array1[i])
						.attr('r',kreisGrosseArray1[i])
						.attr('fill',"green");		
					}else{
						var circle2 = container.append('circle')
						.attr('cx', xAchseArray1[i] )
						.attr('cy',yAchse1Array1[i])
						.attr('r',kreisGrosseArray1[i])
						.attr('fill',"black")
						.attr('fill-opacity',"0.2");		
					}
				}
				$(this).attr("clickState",1);
			}else{
				//regreso a lo normal
				for (var i = 0; i < parsedCSV.length; i++) {
					var circle = container.append('circle')
					.attr('cx', xAchseArray1[i] )
					.attr('cy',yAchse1Array1[i]);
					circle.attr('r',kreisGrosseArray1[i]);
					if(colorFilterOption1.val()==="key"){
							circle.attr('fill',colorKey(colorFilterArray1[i]));
					}
				}
				$(this).attr("clickState",0);
			}
		 });
		$(".D1").click(function(){	       
			cleanerRight();
			if($(this).attr('clickState')=="0"){
				for (var i = 0; i < parsedCSV.length; i++) {
					if(colorFilterArray1[i]=="2"){
						var circle = container.append('circle')
						.attr('cx', xAchseArray1[i] )
						.attr('cy', yAchse1Array1[i])
						.attr('r',kreisGrosseArray1[i])
						.attr('fill',"green");		
					}else{
						var circle2 = container.append('circle')
						.attr('cx', xAchseArray1[i] )
						.attr('cy',yAchse1Array1[i])
						.attr('r',kreisGrosseArray1[i])
						.attr('fill',"black")
						.attr('fill-opacity',"0.2");		
					}
				}
				$(this).attr("clickState",1);
			}else{
				//regreso a lo normal
				for (var i = 0; i < parsedCSV.length; i++) {
					var circle = container.append('circle')
					.attr('cx', xAchseArray1[i] )
					.attr('cy',yAchse1Array1[i]);
					circle.attr('r',kreisGrosseArray1[i]);
					if(colorFilterOption1.val()==="key"){
							circle.attr('fill',colorKey(colorFilterArray1[i]));
					}
				}
				$(this).attr("clickState",0);
			}
		 });
		$(".DS1").click(function(){	       
			cleanerRight();
			if($(this).attr('clickState')=="0"){
				for (var i = 0; i < parsedCSV.length; i++) {
					if(colorFilterArray1[i]=="3"){
						var circle = container.append('circle')
						.attr('cx', xAchseArray1[i] )
						.attr('cy', yAchse1Array1[i])
						.attr('r',kreisGrosseArray1[i])
						.attr('fill',"green");		
					}else{
						var circle2 = container.append('circle')
						.attr('cx', xAchseArray1[i] )
						.attr('cy',yAchse1Array1[i])
						.attr('r',kreisGrosseArray1[i])
						.attr('fill',"black")
						.attr('fill-opacity',"0.2");		
					}
				}
				$(this).attr("clickState",1);
			}else{
				//regreso a lo normal
				for (var i = 0; i < parsedCSV.length; i++) {
					var circle = container.append('circle')
					.attr('cx', xAchseArray1[i] )
					.attr('cy',yAchse1Array1[i]);
					circle.attr('r',kreisGrosseArray1[i]);
					if(colorFilterOption1.val()==="key"){
							circle.attr('fill',colorKey(colorFilterArray1[i]));
					}
				}
				$(this).attr("clickState",0);
			}
		 });
		$(".E1").click(function(){	       
			cleanerRight();
			if($(this).attr('clickState')=="0"){
				for (var i = 0; i < parsedCSV.length; i++) {
					if(colorFilterArray1[i]=="4"){
						var circle = container.append('circle')
						.attr('cx', xAchseArray1[i] )
						.attr('cy', yAchse1Array1[i])
						.attr('r',kreisGrosseArray1[i])
						.attr('fill',"green");		
					}else{
						var circle2 = container.append('circle')
						.attr('cx', xAchseArray1[i] )
						.attr('cy',yAchse1Array1[i])
						.attr('r',kreisGrosseArray1[i])
						.attr('fill',"black")
						.attr('fill-opacity',"0.2");		
					}
				}
				$(this).attr("clickState",1);
			}else{
				//regreso a lo normal
				for (var i = 0; i < parsedCSV.length; i++) {
					var circle = container.append('circle')
					.attr('cx', xAchseArray1[i] )
					.attr('cy',yAchse1Array1[i]);
					circle.attr('r',kreisGrosseArray1[i]);
					if(colorFilterOption1.val()==="key"){
							circle.attr('fill',colorKey(colorFilterArray1[i]));
					}
				}
				$(this).attr("clickState",0);
			}
		 });
		$(".F1").click(function(){	       
			cleanerRight();
			if($(this).attr('clickState')=="0"){
				for (var i = 0; i < parsedCSV.length; i++) {
					if(colorFilterArray1[i]=="5"){
						var circle = container.append('circle')
						.attr('cx', xAchseArray1[i] )
						.attr('cy', yAchse1Array1[i])
						.attr('r',kreisGrosseArray1[i])
						.attr('fill',"green");		
					}else{
						var circle2 = container.append('circle')
						.attr('cx', xAchseArray1[i] )
						.attr('cy',yAchse1Array1[i])
						.attr('r',kreisGrosseArray1[i])
						.attr('fill',"black")
						.attr('fill-opacity',"0.2");		
					}
				}
				$(this).attr("clickState",1);
			}else{
				//regreso a lo normal
				for (var i = 0; i < parsedCSV.length; i++) {
					var circle = container.append('circle')
					.attr('cx', xAchseArray1[i] )
					.attr('cy',yAchse1Array1[i]);
					circle.attr('r',kreisGrosseArray1[i]);
					if(colorFilterOption1.val()==="key"){
							circle.attr('fill',colorKey(colorFilterArray1[i]));
					}
				}
				$(this).attr("clickState",0);
			}
		 });
		$(".FS1").click(function(){	       
			cleanerRight();
			if($(this).attr('clickState')=="0"){
				for (var i = 0; i < parsedCSV.length; i++) {
					if(colorFilterArray1[i]=="6"){
						var circle = container.append('circle')
						.attr('cx', xAchseArray1[i] )
						.attr('cy', yAchse1Array1[i])
						.attr('r',kreisGrosseArray1[i])
						.attr('fill',"green");		
					}else{
						var circle2 = container.append('circle')
						.attr('cx', xAchseArray1[i] )
						.attr('cy',yAchse1Array1[i])
						.attr('r',kreisGrosseArray1[i])
						.attr('fill',"black")
						.attr('fill-opacity',"0.2");		
					}
				}
				$(this).attr("clickState",1);
			}else{
				//regreso a lo normal
				for (var i = 0; i < parsedCSV.length; i++) {
					var circle = container.append('circle')
					.attr('cx', xAchseArray1[i] )
					.attr('cy',yAchse1Array1[i]);
					circle.attr('r',kreisGrosseArray1[i]);
					if(colorFilterOption1.val()==="key"){
							circle.attr('fill',colorKey(colorFilterArray1[i]));
					}
				}
				$(this).attr("clickState",0);
			}
		 });
		$(".G1").click(function(){	       
			cleanerRight();
			if($(this).attr('clickState')=="0"){
				for (var i = 0; i < parsedCSV.length; i++) {
					if(colorFilterArray1[i]=="7"){
						var circle = container.append('circle')
						.attr('cx', xAchseArray1[i] )
						.attr('cy', yAchse1Array1[i])
						.attr('r',kreisGrosseArray1[i])
						.attr('fill',"green");		
					}else{
						var circle2 = container.append('circle')
						.attr('cx', xAchseArray1[i] )
						.attr('cy',yAchse1Array1[i])
						.attr('r',kreisGrosseArray1[i])
						.attr('fill',"black")
						.attr('fill-opacity',"0.2");		
					}
				}
				$(this).attr("clickState",1);
			}else{
				//regreso a lo normal
				for (var i = 0; i < parsedCSV.length; i++) {
					var circle = container.append('circle')
					.attr('cx', xAchseArray1[i] )
					.attr('cy',yAchse1Array1[i]);
					circle.attr('r',kreisGrosseArray1[i]);
					if(colorFilterOption1.val()==="key"){
							circle.attr('fill',colorKey(colorFilterArray1[i]));
					}
				}
				$(this).attr("clickState",0);
			}	 });
		$(".GS1").click(function(){	       
			cleanerRight();
			if($(this).attr('clickState')=="0"){
				for (var i = 0; i < parsedCSV.length; i++) {
					if(colorFilterArray1[i]=="8"){
						var circle = container.append('circle')
						.attr('cx', xAchseArray1[i] )
						.attr('cy', yAchse1Array1[i])
						.attr('r',kreisGrosseArray1[i])
						.attr('fill',"green");		
					}else{
						var circle2 = container.append('circle')
						.attr('cx', xAchseArray1[i] )
						.attr('cy',yAchse1Array1[i])
						.attr('r',kreisGrosseArray1[i])
						.attr('fill',"black")
						.attr('fill-opacity',"0.2");		
					}
				}
				$(this).attr("clickState",1);
			}else{
				//regreso a lo normal
				for (var i = 0; i < parsedCSV.length; i++) {
					var circle = container.append('circle')
					.attr('cx', xAchseArray1[i] )
					.attr('cy',yAchse1Array1[i]);
					circle.attr('r',kreisGrosseArray1[i]);
					if(colorFilterOption1.val()==="key"){
							circle.attr('fill',colorKey(colorFilterArray1[i]));
					}
				}
				$(this).attr("clickState",0);
			}	 });
		$(".A1").click(function(){	       
			cleanerRight();
			if($(this).attr('clickState')=="0"){
				for (var i = 0; i < parsedCSV.length; i++) {
					if(colorFilterArray1[i]=="9"){
						var circle = container.append('circle')
						.attr('cx', xAchseArray1[i] )
						.attr('cy', yAchse1Array1[i])
						.attr('r',kreisGrosseArray1[i])
						.attr('fill',"green");		
					}else{
						var circle2 = container.append('circle')
						.attr('cx', xAchseArray1[i] )
						.attr('cy',yAchse1Array1[i])
						.attr('r',kreisGrosseArray1[i])
						.attr('fill',"black")
						.attr('fill-opacity',"0.2");		
					}
				}
				$(this).attr("clickState",1);
			}else{
				//regreso a lo normal
				for (var i = 0; i < parsedCSV.length; i++) {
					var circle = container.append('circle')
					.attr('cx', xAchseArray1[i] )
					.attr('cy',yAchse1Array1[i]);
					circle.attr('r',kreisGrosseArray1[i]);
					if(colorFilterOption1.val()==="key"){
							circle.attr('fill',colorKey(colorFilterArray1[i]));
					}
				}
				$(this).attr("clickState",0);
			}
		 });
		$(".AS1").click(function(){	       
			cleanerRight();
			if($(this).attr('clickState')=="0"){
				for (var i = 0; i < parsedCSV.length; i++) {
					if(colorFilterArray1[i]=="10"){
						var circle = container.append('circle')
						.attr('cx', xAchseArray1[i] )
						.attr('cy', yAchse1Array1[i])
						.attr('r',kreisGrosseArray1[i])
						.attr('fill',"green");		
					}else{
						var circle2 = container.append('circle')
						.attr('cx', xAchseArray1[i] )
						.attr('cy',yAchse1Array1[i])
						.attr('r',kreisGrosseArray1[i])
						.attr('fill',"black")
						.attr('fill-opacity',"0.2");		
					}
				}
				$(this).attr("clickState",1);
			}else{
				//regreso a lo normal
				for (var i = 0; i < parsedCSV.length; i++) {
					var circle = container.append('circle')
					.attr('cx', xAchseArray1[i] )
					.attr('cy',yAchse1Array1[i]);
					circle.attr('r',kreisGrosseArray1[i]);
					if(colorFilterOption1.val()==="key"){
							circle.attr('fill',colorKey(colorFilterArray1[i]));
					}
				}
				$(this).attr("clickState",0);
			}
		 });
		$(".B1").click(function(){	       
			cleanerRight();
			if($(this).attr('clickState')=="0"){
				for (var i = 0; i < parsedCSV.length; i++) {
					if(colorFilterArray1[i]=="11"){
						var circle = container.append('circle')
						.attr('cx', xAchseArray1[i] )
						.attr('cy', yAchse1Array1[i])
						.attr('r',kreisGrosseArray1[i])
						.attr('fill',"green");		
					}else{
						var circle2 = container.append('circle')
						.attr('cx', xAchseArray1[i] )
						.attr('cy',yAchse1Array1[i])
						.attr('r',kreisGrosseArray1[i])
						.attr('fill',"black")
						.attr('fill-opacity',"0.2");		
					}
				}
				$(this).attr("clickState",1);
			}else{
				//regreso a lo normal
				for (var i = 0; i < parsedCSV.length; i++) {
					var circle = container.append('circle')
					.attr('cx', xAchseArray1[i] )
					.attr('cy',yAchse1Array1[i]);
					circle.attr('r',kreisGrosseArray1[i]);
					if(colorFilterOption1.val()==="key"){
							circle.attr('fill',colorKey(colorFilterArray1[i]));
					}
				}
				$(this).attr("clickState",0);
			}
		 });
			
						
});//end document ready
</script>

<!-- end of script!!!!! --><!-- end of script!!!!! --><!-- end of script!!!!! --><!-- end of script!!!!! --><!-- end of script!!!!! -->
<!-- end of script!!!!! --><!-- end of script!!!!! --><!-- end of script!!!!! --><!-- end of script!!!!! --><!-- end of script!!!!! -->
<!-- end of script!!!!! --><!-- end of script!!!!! --><!-- end of script!!!!! --><!-- end of script!!!!! --><!-- end of script!!!!! -->
<!-- end of script!!!!! --><!-- end of script!!!!! --><!-- end of script!!!!! --><!-- end of script!!!!! --><!-- end of script!!!!! -->

<div name="tags" style="width:1150;margin-left: 100px;overflow: hidden;">
	<div name="tag-left" style="width:550px;float:left;">

		<p id="achsen" style="margin-left:20%;overflow: hidden;">
		Achsen:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			<text >x:</text>

			<select id="xAchse" name="x" >
			    <option value="leer" selected></option>
			    <option value="danceability">	Danceability	</option>
			    <option value="energy">			Energy		</option>
			    <option value="tempo">			Tempo		</option>
			    <option value="playcount">		Playcount	</option>
			    <option value="loudness">		Loudness	</option>
			    <option value="jahr">			Jahr		</option>
			</select>
			&nbsp;&nbsp;
			<text>y:</text>

		  	<select id="yAchse" name="y">
			    <option value="leer" selected></option>
			   	<option value="danceability">	Danceability	</option>
			    <option value="energy" >		Energy		</option>
			    <option value="tempo">			Tempo		</option>
			    <option value="playcount">		Playcount	</option>
			    <option value="loudness">		Loudness	</option>
			    <option value="jahr">			Jahr		</option>

		  	</select>
		 </p>

		<p id="kreisGrosse" style="margin-left:20% ;">
		 Kreis Größe:

			<select id="kreisGrosseSelect" name="x" style="margin-left: 40px;">
			    <option value="leer" selected></option>
			    <option value="danceability">	Danceability</option>
			    <option value="energy">			Energy		</option>
			    <option value="tempo">			Tempo		</option>
			    <option value="playcount">		Playcount	</option>
			    <option value="loudness">		Loudness	</option>
			</select>
		</p>
		<p style="margin-left:20% ;">
		Color Filter
			<select id="colorFilter" style="margin-left: 47px;">
			    <option value="leer" selected></option>
			    <option value="danceability" >	Danceability</option>
		   		<option value="energy" >		Energy		</option>
		    	<option value="tempo" >			Tempo		</option>
		    	<option value="genre" >			Genre		</option>
		    	<option value="key" >			Key			</option>
		  	</select>
		</p>


		<div id="colorDanceability" style="margin-left:14% ;">
			<span class="slider">
				<input id="colorDanceability" type="slider" name="price" value="0.0;1.0" />
			</span>
			<div class="colors" style="margin-left:10% ;">
				<span style="background-color: rgba(153, 0, 0, .25)"></span>
				<span style="background-color: rgba(153, 0, 0, .4)"></span>
				<span style="background-color: rgba(153, 0, 0, .55)"></span>
				<span style="background-color: rgba(153, 0, 0, .7)"></span>
				<span style="background-color: rgba(153, 0, 0, .85)"></span>
				<span style="background-color: rgba(153, 0, 0, 1)"></span>
			</div>
		</div>

		<div id="colorEnergy" style="margin-left:14% ;">
			<span class="slider">
				<input type="slider" name="price" value="0.0;1.0" />
			</span>
			<div class="colors" style="margin-left:10% ;">
					<span style="background-color: rgba(153, 0, 0, .25)"></span>
					<span style="background-color: rgba(153, 0, 0, .4)"></span>
					<span style="background-color: rgba(153, 0, 0, .55)"></span>
					<span style="background-color: rgba(153, 0, 0, .7)"></span>
					<span style="background-color: rgba(153, 0, 0, .85)"></span>
					<span style="background-color: rgba(153, 0, 0, 1)"></span>
			</div>
		</div>

		<div id="colorTempo" style="margin-left:14% ;">
			<span class="slider">
				<input type="slider" name="price" value="50;200" />
			</span>
			<div class="colors" style="margin-left:10% ;">
				<span style="background-color: rgba(153, 0, 0, .25)"></span>
				<span style="background-color: rgba(153, 0, 0, .4)"></span>
				<span style="background-color: rgba(153, 0, 0, .55)"></span>
				<span style="background-color: rgba(153, 0, 0, .7)"></span>
				<span style="background-color: rgba(153, 0, 0, .85)"></span>
				<span style="background-color: rgba(153, 0, 0, 1)"></span>
			</div>
		</div>

		<div id="colorKey">

		  	<!-- Keyboard with the colors that we are going to use -->
			<br>

			<svg width="350" height="150" style=" margin-left: 20%;">

			<!-- notes fields -->
			<rect clickState="-1" x="0" y="0" width="350" height="50" style="fill=rgb(0,0,0); stroke-width:1;	stroke:rgb(255,255,255)"/>

			<polygon 	clickState="0" class="C" points="0,50 35,50 35,100 50,100 50,150 0,150" 							style="fill:rgb(31,120,180);   	stroke-width:1; stroke:rgb(255,255,255);" />
		  	<rect 		clickState="1" class="CS" x="35" 	y="50" 	width="30" height="50" 		  							style="fill:rgb(166,206,227);	stroke-width:1;	stroke:rgb(255,255,255);" />
			<polygon 	clickState="2" class="D" points="50,100 65,100 65,50  85,50 85,100  100,100 100,150 50,150" 		style="fill:rgb(106,61,154);   	stroke-width:1; stroke:rgb(255,255,255);" />
		  	<rect 		clickState="3" class="DS" x="85" 	y="50" 	width="30" height="50" 									style="fill:rgb(202,178,214);	stroke-width:1;	stroke:rgb(255,255,255)"/>
			<polygon 	clickState="4" class="E" points="100,100 115,100 115,50  150,50 150,100  150,150 100,150 "	 	style="fill:rgb(177,89,40);   	stroke-width:1; stroke:rgb(255,255,255);" />
		  	<polygon 	clickState="5" class="F" points="150,50 185,50 185,100  200,100 200,150  150,150 " 				style="fill:rgb(227,26,28);   	stroke-width:1; stroke:rgb(255,255,255);" />
		  	<rect 		clickState="6" class="FS" x="185" 	y="50" 	width="30" height="50" 								style="fill:rgb(251,154,153);	stroke-width:1;	stroke:rgb(255,255,255)"/>
			<polygon 	clickState="7" class="G" points="200,100 215,100 215,50  235,50 235,100  250,100 250,150 200,150" style="fill:rgb(255,127,0);   	stroke-width:1; stroke:rgb(255,255,255);" />
		  	<rect 		clickState="8" class="GS" x="235" 	y="50" 	width="30" height="50" 								style="fill:rgb(253,191,111);	stroke-width:1;	stroke:rgb(255,255,255)"/>
			<polygon 	clickState="9" class="A" points="250,100 265,100 265,50  285,50 285,100  300,100 300,150 250,150" style="fill:rgb(51,160,44);   	stroke-width:1; stroke:rgb(255,255,255);" />
			<rect 		clickState="10" class="AS" x="285" 	y="50" 	width="30" height="50" 								style="fill:rgb(178,223,138);	stroke-width:1;	stroke:rgb(255,255,255)"/>
			<polygon 	clickState="11" class="B" points="300,100 315,100 315,50  350,50 350,150  300,150  "	 			style="fill:rgb(255,255,153);   stroke-width:1; stroke:rgb(255,255,255);" />

			<!-- circles for notes of keys -->
				<circle clickState="0" class="C" cx="24" cy="125" r="14"  fill="white" />
				<circle clickState="2" class="D" cx="74" cy="125" r="14"  fill="white" />
				<circle clickState="4" class="E" cx="124" cy="125" r="14"  fill="white" />
				<circle clickState="5" class="F" cx="174" cy="125" r="14"  fill="white" />
				<circle clickState="7" class="G" cx="224" cy="125" r="14"  fill="white" />
				<circle clickState="9" class="A" cx="274" cy="125" r="14"  fill="white" />
				<circle clickState="11" class="B" cx="324" cy="125" r="14"  fill="white" />
			<!-- text for notes of keys -->
				<text clickState="0" class="C" x="19" y="130" fill="black"> C </text>
				<text clickState="2" class="D" x="69" y="130" fill="black"> D </text>
				<text clickState="4" class="E" x="119" y="130" fill="black"> E </text>
				<text clickState="5" class="F" x="169" y="130" fill="black"> F </text>
				<text clickState="7" class="G" x="219" y="130" fill="black"> G </text>
				<text clickState="9" class="A" x="269" y="130" fill="black"> A </text>
				<text clickState="11" class="B" x="319" y="130" fill="black"> B </text>
			<!-- circles for notes of keys -->
				<circle clickState="1" class="CS" cx="50" cy="75" r="12"  fill="white" />
				<circle clickState="3" class="DS" cx="100" cy="75" r="12"  fill="white" />
				<circle clickState="6" class="FS" cx="200" cy="75" r="12"  fill="white" />
				<circle clickState="8" class="GA" cx="250" cy="75" r="12"  fill="white" />
				<circle clickState="10" class="AS" cx="300" cy="75" r="12"  fill="white" />
			<!-- text for notes of keys -->
				<text clickState="1" class="CS" x="42" y="80" fill="black"> C# </text>
				<text clickState="3" class="DS" x="92" y="80" fill="black"> D# </text>
				<text clickState="6" class="FS" x="192" y="80" fill="black"> F# </text>
				<text clickState="8" class="GS" x="242" y="80" fill="black"> G# </text>
				<text clickState="10" class="AS" x="292" y="80" fill="black"> A# </text>

			</svg>
			<p style="text-align: center;">*Wenn die Metada "KEY" vom Lied nicht vorhanden ist es wird Schwarz gezeigt.</p>

		</div>

		<!-- Table for the color selection of genre -->
		<div id="colorGenre" style="margin-left:30% ;">
			<br>
			<table id="tableColor" bgcolor="silver" cellpadding="5" align="left" width="20%">
			</table>
		</div>

		<button id="showButton" style="margin-left:46%;">Zeigen</button>

	</div><!-- end tag left -->

	<!-- end tag left --><!-- end tag left --><!-- end tag left --><!-- end tag left --><!-- end tag left --><!-- end tag left --><!-- end tag left --><!-- end tag left --><!-- end tag left --><!-- end tag left -->
	<!-- end tag left --><!-- end tag left --><!-- end tag left --><!-- end tag left --><!-- end tag left --><!-- end tag left --><!-- end tag left --><!-- end tag left --><!-- end tag left --><!-- end tag left -->
	<!-- end tag left --><!-- end tag left --><!-- end tag left --><!-- end tag left --><!-- end tag left --><!-- end tag left --><!-- end tag left --><!-- end tag left --><!-- end tag left --><!-- end tag left -->
	<!-- end tag left --><!-- end tag left --><!-- end tag left --><!-- end tag left --><!-- end tag left --><!-- end tag left --><!-- end tag left --><!-- end tag left --><!-- end tag left --><!-- end tag left -->
	<!-- end tag left --><!-- end tag left --><!-- end tag left --><!-- end tag left --><!-- end tag left --><!-- end tag left --><!-- end tag left --><!-- end tag left --><!-- end tag left --><!-- end tag left -->
	
	<div name="tag-right" style ="width:600px;float:left;" >		
		<p id="achsen1" style="margin-left:20%;">	
			<text >Achsen:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			</text>

			<text >x:</text>

		  	<select id="xAchse1" name="x">
			    <option value="leer" selected></option>
			    <option value="danceability">	Danceability	</option>
			    <option value="energy">			Energy		</option>
			    <option value="tempo">			Tempo		</option>
			    <option value="playcount">		Playcount	</option>
			    <option value="loudness">		Loudness	</option>
			    <option value="jahr">			Jahr		</option>

			</select>
			&nbsp;&nbsp;
			<text>y:</text>
		  	<select id="yAchse1" name="y">
			    <option value="leer" selected></option>
			   	<option value="danceability">	Danceability	</option>
			    <option value="energy" >		Energy		</option>
			    <option value="tempo">			Tempo		</option>
			    <option value="playcount">		Playcount	</option>
			    <option value="loudness">		Loudness	</option>
			    <option value="jahr">			Jahr		</option>

		  	</select>

		 </p>
		 
		 <p id="kreisGrosse1" style="margin-left:20% ;">
		 Kreis Größe:
		 
			<select id="kreisGrosseSelect1" name="x" style=" margin-left: 40px;">
			    <option value="leer" selected></option>
			    <option value="danceability">	Danceability</option>
			    <option value="energy">			Energy		</option>
			    <option value="tempo">			Tempo		</option>
			    <option value="playcount">		Playcount	</option>
			    <option value="loudness">		Loudness	</option>
			</select>
		</p>

		<p style="margin-left:20% ;">
		Color Filter:
			<select id="colorFilter1" style="margin-left: 43px;">
			    <option value="leer" selected></option>
			    <option value="danceability" >	Danceability</option>
		   		<option value="energy" >		Energy		</option>
		    	<option value="tempo" >			Tempo		</option>
		    	<option value="genre" >			Genre		</option>
		    	<option value="key" >			Key			</option>
		  	</select>
		</p>
		
		<div id="colorDanceability1" style="margin-left:14% ;">
			<span class="slider">
				<input id="colorDanceability1" type="slider" name="price" value="0.0;1.0" />
			</span>
			<div class="colors" style="margin-left:10% ;">
				<span style="background-color: rgba(153, 0, 0, .25)"></span>
				<span style="background-color: rgba(153, 0, 0, .4)"></span>
				<span style="background-color: rgba(153, 0, 0, .55)"></span>
				<span style="background-color: rgba(153, 0, 0, .7)"></span>
				<span style="background-color: rgba(153, 0, 0, .85)"></span>
				<span style="background-color: rgba(153, 0, 0, 1)"></span>
			</div>
		</div>

		<div id="colorEnergy1" style="margin-left:14% ;">		

			<span class="slider">
				<input type="slider" name="price" value="0.0;1.0" />
			</span>
			<div class="colors" style="margin-left:10% ;">
					<span style="background-color: rgba(153, 0, 0, .25)"></span>
					<span style="background-color: rgba(153, 0, 0, .4)"></span>
					<span style="background-color: rgba(153, 0, 0, .55)"></span>
					<span style="background-color: rgba(153, 0, 0, .7)"></span>
					<span style="background-color: rgba(153, 0, 0, .85)"></span>
					<span style="background-color: rgba(153, 0, 0, 1)"></span>
			</div>
		</div>
			
		<div id="colorTempo1" style="margin-left:14% ;">

			<span class="slider">
				<input type="slider" name="price" value="50;200" />
			</span>
			<div class="colors" style="margin-left:10% ;">
				<span style="background-color: rgba(153, 0, 0, .25)"></span>
				<span style="background-color: rgba(153, 0, 0, .4)"></span>
				<span style="background-color: rgba(153, 0, 0, .55)"></span>
				<span style="background-color: rgba(153, 0, 0, .7)"></span>
				<span style="background-color: rgba(153, 0, 0, .85)"></span>
				<span style="background-color: rgba(153, 0, 0, 1)"></span>
			</div>
		</div>

		<div id="colorKey1">
		

		  	<!-- Keyboard with the colors that we are going to use -->
			<br>

				<svg width="350" height="150" style=" margin-left: 20%;">

			<!-- notes fields -->
			<rect clickState="0" class="none" x="0" y="0" width="350" height="50" style="fill=rgb(0,0,0); stroke-width:1;	stroke:rgb(255,255,255)"/>

			<polygon 	clickState="0" class="C1" points="0,50 35,50 35,100 50,100 50,150 0,150" 							style="fill:rgb(31,120,180);   	stroke-width:1; stroke:rgb(255,255,255);" />
		  	<rect 		clickState="1" class="CS1" x="35" 	y="50" 	width="30" height="50" 		  							style="fill:rgb(166,206,227);	stroke-width:1;	stroke:rgb(255,255,255);" />
			<polygon 	clickState="2" class="D1" points="50,100 65,100 65,50  85,50 85,100  100,100 100,150 50,150" 		style="fill:rgb(106,61,154);   	stroke-width:1; stroke:rgb(255,255,255);" />
		  	<rect 		clickState="3" class="DS1" x="85" 	y="50" 	width="30" height="50" 									style="fill:rgb(202,178,214);	stroke-width:1;	stroke:rgb(255,255,255)"/>
			<polygon 	clickState="4" class="E1" points="100,100 115,100 115,50  150,50 150,100  150,150 100,150 "	 	style="fill:rgb(177,89,40);   	stroke-width:1; stroke:rgb(255,255,255);" />
		  	<polygon 	clickState="5" class="F1" points="150,50 185,50 185,100  200,100 200,150  150,150 " 				style="fill:rgb(227,26,28);   	stroke-width:1; stroke:rgb(255,255,255);" />
		  	<rect 		clickState="6" class="FS1" x="185" 	y="50" 	width="30" height="50" 								style="fill:rgb(251,154,153);	stroke-width:1;	stroke:rgb(255,255,255)"/>
			<polygon 	clickState="7" class="G1" points="200,100 215,100 215,50  235,50 235,100  250,100 250,150 200,150" style="fill:rgb(255,127,0);   	stroke-width:1; stroke:rgb(255,255,255);" />
		  	<rect 		clickState="8" class="GS1" x="235" 	y="50" 	width="30" height="50" 								style="fill:rgb(253,191,111);	stroke-width:1;	stroke:rgb(255,255,255)"/>
			<polygon 	clickState="9" class="A1" points="250,100 265,100 265,50  285,50 285,100  300,100 300,150 250,150" style="fill:rgb(51,160,44);   	stroke-width:1; stroke:rgb(255,255,255);" />
			<rect 		clickState="10" class="AS1" x="285" 	y="50" 	width="30" height="50" 								style="fill:rgb(178,223,138);	stroke-width:1;	stroke:rgb(255,255,255)"/>
			<polygon 	clickState="11" class="B1" points="300,100 315,100 315,50  350,50 350,150  300,150  "	 			style="fill:rgb(255,255,153);   stroke-width:1; stroke:rgb(255,255,255);" />

			<!-- circles for notes of keys -->
				<circle clickState="0" class="C1" cx="24" cy="125" r="14"  fill="white" />
				<circle clickState="2" class="D1" cx="74" cy="125" r="14"  fill="white" />
				<circle clickState="4" class="E1" cx="124" cy="125" r="14"  fill="white" />
				<circle clickState="5" class="F1" cx="174" cy="125" r="14"  fill="white" />
				<circle clickState="7" class="G1" cx="224" cy="125" r="14"  fill="white" />
				<circle clickState="9" class="A1" cx="274" cy="125" r="14"  fill="white" />
				<circle clickState="11" class="B1" cx="324" cy="125" r="14"  fill="white" />
			<!-- text for notes of keys -->
				<text clickState="0" class="C1" x="19" y="130" fill="black"> C </text>
				<text clickState="2" class="D1" x="69" y="130" fill="black"> D </text>
				<text clickState="4" class="E1" x="119" y="130" fill="black"> E </text>
				<text clickState="5" class="F1" x="169" y="130" fill="black"> F </text>
				<text clickState="7" class="G1" x="219" y="130" fill="black"> G </text>
				<text clickState="9" class="A1" x="269" y="130" fill="black"> A </text>
				<text clickState="11" class="B1" x="319" y="130" fill="black"> B </text>
			<!-- circles for notes of keys -->
				<circle clickState="1" class="CS1" cx="50" cy="75" r="12"  fill="white" />
				<circle clickState="3" class="DS1" cx="100" cy="75" r="12"  fill="white" />
				<circle clickState="6" class="FS1" cx="200" cy="75" r="12"  fill="white" />
				<circle clickState="8" class="GA1" cx="250" cy="75" r="12"  fill="white" />
				<circle clickState="10" class="AS1" cx="300" cy="75" r="12"  fill="white" />
			<!-- text for notes of keys -->
				<text clickState="1" class="CS1" x="42" y="80" fill="black"> C# </text>
				<text clickState="3" class="DS1" x="92" y="80" fill="black"> D# </text>
				<text clickState="6" class="FS1" x="192" y="80" fill="black"> F# </text>
				<text clickState="8" class="GS1" x="242" y="80" fill="black"> G# </text>
				<text clickState="10" class="AS1" x="292" y="80" fill="black"> A# </text>

			</svg>
			<p style="text-align: center;">*Wenn die Metada "KEY" vom Lied nicht vorhanden ist es wird Schwarz gezeigt.</p>

		</div>

		<!-- Table for the color selection of genre -->
		<div id="colorGenre1" style="margin-left:30% ;">
			<br>
			<table id="tableColor" bgcolor="silver" cellpadding="5" align="left" width="20%">
			</table>
		</div>

		<button id="showButton1" style="margin-left:46%;">Zeigen</button>		

	</div>
</div><!-- end of div tags -->

	</body>
</html>